<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voyago - Tu próxima aventura</title>
    <style>
        :root {
            --primary: #4A90E2;
            --accent: #40E0D0;
            --gray: #666666;
            --light-gray: #F5F5F5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        body {
            background-color: var(--light-gray);
            padding-bottom: 70px;
        }

        /* Header */
        .header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.5rem;
        }

        /* Main Content */
        .main-content {
            margin-top: 60px;
            padding: 1rem;
        }

        /* Search Bar */
        .search-container {
            position: relative;
            margin: 1rem 0;
        }

        .search-bar {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        /* Categories */
        .categories {
            margin: 2rem 0;
        }

        .categories h2 {
            margin-bottom: 1rem;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            text-align: center;
        }

        .category-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .category-icon {
            width: 50px;
            height: 50px;
            background-color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
        }

        .category-icon svg {
            width: 25px;
            height: 25px;
            fill: white;
        }

        /* Destinations */
        .destinations {
            margin: 2rem 0;
        }

        .destination-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .destination-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .destination-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .destination-info {
            padding: 1rem;
        }

        .destination-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .destination-title {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .destination-location {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .destination-price {
            color: var(--primary);
            font-weight: bold;
        }

        .destination-excerpt {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--gray);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .destination-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .destination-tag {
            background-color: var(--light-gray);
            color: var(--gray);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }

        .rating-star {
            color: #FFD700;
        }

        /* Experience Cards */
        .experiences {
            margin: 2rem 0;

        }

        .experience-scroll {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 1rem;
            padding-top: 1rem;
            scrollbar-width: none;
        }

        .experience-scroll::-webkit-scrollbar {
            display: none;
        }

        .experience-card {
            flex: 0 0 200px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .experience-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .experience-info {
            padding: 0.75rem;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: white;
            border-top: 1px solid #ddd;
            padding: 0.75rem;
            display: flex;
            justify-content: space-around;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            text-decoration: none;
            font-size: 0.75rem;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-item svg {
            width: 24px;
            height: 24px;
            margin-bottom: 0.25rem;
        }

        /* Reels Section */
        .reels {
            margin: 2rem 0;
        }
        
        .reels-scroll {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 1rem;
            padding-top: 1rem;
            scrollbar-width: none;
        }

        .reels-scroll::-webkit-scrollbar {
            display: none;
        }

        .reel-card {
            flex: 0 0 200px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }

        .reel-card video {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .reel-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 1rem;
        }

        .reel-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .reel-cta {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }
        
        /* AI Assistant Button */
        .ai-button {
            position: fixed;
            right: 1rem;
            bottom: 80px;
            width: 50px;
            height: 50px;
            background-color: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            cursor: pointer;
        }
        
        /* Loading indicator */
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--gray);
        }
        
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Voyago</h1>
        <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" fill="white"/>
        </svg>
    </header>

    <main class="main-content">
        <div class="search-container">
            <input type="text" class="search-bar" placeholder="¿A dónde quieres ir?">
            <svg class="search-icon" viewBox="0 0 24 24" width="20" height="20">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/>
            </svg>
        </div>

        <section class="categories">
            <h2>Explora</h2>
            <div class="categories-grid">
                <div class="category-item">
                    <div class="category-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 16V4H3v12h18m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2h18M5 6h9v5H5V6m10 0h4v2h-4V6m4 3v5h-4V9h4M5 12h4v2H5v-2m5 0h4v2h-4v-2z" fill="currentColor"/>
                        </svg>
                    </div>
                    <span>Vuelos</span>
                </div>
                <div class="category-item">
                    <div class="category-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M19 7H11V1H13V5H17V1H19V7M7 19V5H9V3H7V1H5V3H3V5H5V19H3V21H5V23H7V21H9V19H7M19 9H11V11H19V9M19 13H11V15H19V13Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <span>Hoteles</span>
                </div>
                <div class="category-item">
                    <div class="category-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M18,18.5A1.5,1.5 0 0,1 16.5,17A1.5,1.5 0 0,1 18,15.5A1.5,1.5 0 0,1 19.5,17A1.5,1.5 0 0,1 18,18.5M19.5,9.5L21.46,12H17V9.5M6,18.5A1.5,1.5 0 0,1 4.5,17A1.5,1.5 0 0,1 6,15.5A1.5,1.5 0 0,1 7.5,17A1.5,1.5 0 0,1 6,18.5M20,8L23,12V17H21A3,3 0 0,1 18,20A3,3 0 0,1 15,17H9A3,3 0 0,1 6,20A3,3 0 0,1 3,17H1V6C1,4.89 1.89,4 3,4H17V8H20M8,6V9H5V11H8V14H10V11H13V9H10V6H8Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <span>Transportes</span>
                </div>
                <div class="category-item">
                    <div class="category-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M20,11H4V8H20M20,15H13V13H20M20,19H13V17H20M11,19H4V13H11M20.33,4.67L18.67,3L17,4.67L15.33,3L13.67,4.67L12,3L10.33,4.67L8.67,3L7,4.67L5.33,3L3.67,4.67L2,3V19A2,2 0 0,0 4,21H20A2,2 0 0,0 22,19V3L20.33,4.67Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <span>Paquetes</span>
                </div>
            </div>
        </section>

        <section class="destinations">
            <h2>Destinos destacados</h2>
            <div id="destinations-container" style="padding-top: 1rem;">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Cargando destinos...</p>
                </div>
            </div>
        </section>

        <section class="experiences">
            <h2>Experiencias populares</h2>
            <div class="experience-scroll" id="experiences-container"></div>
        </section>
        <section class="reels">
            <h2>Descubre más destinos</h2>
            <div class="reels-scroll" id="reels-container"></div>
        </section>
    </main>

    <nav class="bottom-nav">
        <a href="#" class="nav-item active">
            <svg viewBox="0 0 24 24">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z" fill="currentColor"/>
            </svg>
            <span>Inicio</span>
        </a>
        <a href="#" class="nav-item">
            <svg viewBox="0 0 24 24">
                <path d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z" fill="currentColor"/>
            </svg>
            <span>Reservas</span>
        </a>
        <a href="#" class="nav-item">
            <svg viewBox="0 0 24 24">
                <path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" fill="currentColor"/>
            </svg>
            <span>Ajustes</span>
        </a>
        <a href="#" class="nav-item">
            <svg viewBox="0 0 24 24">
                <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" fill="currentColor"/>
            </svg>
            <span>Perfil</span>
        </a>
    </nav>

    <button class="ai-button">
        <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" fill="white"/>
        </svg>
    </button>

    <script>
        // Intersection Observer para los videos
        const videoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.play();
                } else {
                    entry.target.pause();
                }
            });
        }, { threshold: 0.5 });

        // Fetch destinos desde la API
        async function fetchDestinations() {
            try {
                const response = await fetch('https://promociones-aereas.com.ar/wp-json/wp/v2/posts?per_page=10&featured=true');
                if (!response.ok) {
                    throw new Error('Error al obtener los destinos');
                }
                return await response.json();
            } catch (error) {
                console.error('Error:', error);
                return [];
            }
        }

        // Renderizar los destinos
        async function renderDestinations() {
            const destinationsContainer = document.getElementById('destinations-container');
            destinationsContainer.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Cargando destinos...</p>
                </div>
            `;
            
            try {
                const destinations = await fetchDestinations();
                
                if (destinations.length === 0) {
                    destinationsContainer.innerHTML = '<p>No se encontraron destinos disponibles.</p>';
                    return;
                }
                
                destinationsContainer.innerHTML = '';
                
                destinations.forEach(dest => {
                    // Extraer etiquetas de categorías
                    const categories = dest.categories.slice(0, 2); // Solo mostrar 2 categorías máximo
                    
                    // Crear el elemento de card de destino
                    const destCard = document.createElement('div');
                    destCard.className = 'destination-card';
                    destCard.addEventListener('click', () => {
                        window.location.href = dest.link;
                    });
                    
                    // Determinar la imagen a mostrar
                    let imageUrl = '';
                    if (dest.fimg_url && dest.fimg_url.large) {
                        imageUrl = dest.fimg_url.large;
                    } else if (dest.share_image && dest.share_image.medium) {
                        imageUrl = dest.share_image.medium;
                    } else {
                        // Imagen por defecto si no hay imagen disponible
                        imageUrl = 'https://media.staticontent.com/media/pictures/71424c0b-eed4-4ddf-92bd-428659882b06/375x450?quality=80&dpr=2';
                    }
                    
                    // Extraer el título limpio (sin etiquetas HTML)
                    const titleElement = document.createElement('div');
                    titleElement.innerHTML = dest.title.rendered;
                    const cleanTitle = titleElement.textContent;
                    
                    // Extraer el extracto limpio (sin etiquetas HTML)
                    const excerptElement = document.createElement('div');
                    excerptElement.innerHTML = dest.excerpt.rendered;
                    const cleanExcerpt = excerptElement.textContent;
                    
                    // HTML interno de la card
                    destCard.innerHTML = `
                        <img src="${imageUrl}" alt="${cleanTitle}" class="destination-image">
                        <div class="destination-info">
                            <div class="destination-header">
                                <div>
                                    <h3 class="destination-title">${cleanTitle}</h3>
                                    <p class="destination-location">Argentina</p>
                                </div>
                            </div>
                            <p class="destination-excerpt">${cleanExcerpt}</p>
                            <div class="destination-tags">
                                <span class="destination-tag">Paquete</span>
                                <span class="destination-tag">Vuelo + Hotel</span>
                            </div>
                        </div>
                    `;
                    
                    destinationsContainer.appendChild(destCard);
                });
            } catch (error) {
                console.error('Error al renderizar destinos:', error);
                destinationsContainer.innerHTML = '<p>Error al cargar los destinos. Intente nuevamente más tarde.</p>';
            }
        }

        // Cargar destinos cuando se carga la página
        document.addEventListener('DOMContentLoaded', () => {
            renderDestinations();
        });

        // Datos de experiencias
        const experiences = [
            {
                id: 1,
                title: 'Visita a la Sagrada Familia',
                location: 'Barcelona',
                price: 85,
                rating: 4.7,
                image: 'https://media.staticontent.com/media/pictures/a835916d-e276-405c-84ea-8390fc8ca87e/300x200'
            },
            {
                id: 2,
                title: 'Paseo en góndola',
                location: 'Venecia',
                price: 74,
                rating: 4.6,
                image: 'https://media.staticontent.com/media/pictures/4c98fe3a-49dd-4f31-a81a-3c18d446ddc2/300x200'
            },
            {
                id: 3,
                title: 'Museo F.C. Barcelona',
                location: 'Barcelona',
                price: 74,
                rating: 4.6,
                image: 'https://media.staticontent.com/media/pictures/46614f4c-72b0-4c0e-957e-fdb659f0b403/300x200'
            },
            {
                id: 4,
                title: 'Bus turístico Barcelona City Tour',
                location: 'Barcelona',
                price: 74,
                rating: 4.6,
                image: 'https://media.staticontent.com/media/pictures/af66ffd2-827f-4337-a2db-f2c9d56fde10/300x200'
            }
        ];

        // Render experiencias
        const experiencesContainer = document.getElementById('experiences-container');
        experiences.forEach(exp => {
            const expCard = document.createElement('div');
            expCard.className = 'experience-card';
            expCard.innerHTML = `
                <img src="${exp.image}" alt="${exp.title}" class="experience-image">
                <div class="experience-info">
                    <h3 class="destination-title">${exp.title}</h3>
                    <p class="destination-location">${exp.location}</p>
                    <div class="rating">
                        <span class="destination-price">$${exp.price}</span>
                        <div class="rating">
                            <span class="rating-star">★</span>
                            <span>${exp.rating}</span>
                        </div>
                    </div>
                </div>
            `;
            experiencesContainer.appendChild(expCard);
        });

        // Datos de reels
        const reels = [
            {
                id: "RLAPP_MX_CUN_XS_holbox",
                title: "Conocé Holbox",
                video: "https://media.staticontent.com/media/documents/683b7593-35d7-40e2-a45d-79f8fc4ee572",
                link: "https://www.despegar.com.ar/actividades/ih1/actividades-en-isla+holbox"
            },
            {
                id: "RLAPP_MX_CUN_INSPI_espera",
                title: "Cancún te espera",
                video: "https://media.staticontent.com/media/documents/dfe8b066-8511-4fef-adda-63ad5d3d4f02",
                link: "https://www.despegar.com.ar/lugares-turisticos/cancun"
            },
            {
                id: "RLAPP_MX_CUN_ADV_bbb",
                title: "Bueno, bonito y barato",
                video: "https://media.staticontent.com/media/documents/9d3c4ed4-b96f-4473-874b-87996f9d6dec",
                link: "https://www.despegar.com.ar/lugares-turisticos/cancun"
            }
        ];

        // Render reels
        // Render reels
        const reelsContainer = document.getElementById('reels-container');
        reels.forEach(reel => {
            const reelCard = document.createElement('div');
            reelCard.className = 'reel-card';
            reelCard.innerHTML = `
                <video 
                    src="${reel.video}"
                    muted
                    loop
                    playsinline
                    preload="metadata"
                >
                </video>
                <div class="reel-info">
                    <h3 class="reel-title">${reel.title}</h3>
                    <a href="${reel.link}" class="reel-cta">Ver más</a>
                </div>
            `;
            
            const video = reelCard.querySelector('video');
            videoObserver.observe(video);
            
            reelsContainer.appendChild(reelCard);
        });

    </script>
</body>
</html>
